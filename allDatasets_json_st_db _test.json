{
  "proto": {
    "id": "?s$anchor",
    "modified":"$dct:modified" ,
    "issued":"$dct:issued" ,
    "publisher": {
    	"id":"$dct:publisher" ,
    	"label":"$rdfs:label|skos:prefLabel"
    },
    "title":"$dct:title" ,
    "language": {
    	"id":"$dct:language" ,
    	"label":"$rdfs:label|skos:prefLabel"
    },
    "temporal": {
    	"id":"$dct:temporal" ,
    	"endDate":"$dcat:endDate" ,
    	"startDate":"$dcat:startDate"
    },
    "temporalResolution":"$dcat:temporalResolution" ,
    "conformsTo":{
    	"id":"$dct:conformsTo" ,
    	"label":"$rdfs:label|skos:prefLabel"
    },    
    "landingPage":"$dcat:landingPage" ,
    "accrualPeriodicity": {
    	"id":"$dct:accrualPeriodicity" ,
    	"label":"$rdfs:label|skos:prefLabel"
    },    
    "spatial": {
    	"id":"$dct:spatial",
    	"geometryAsWKT":"$locn:geometry"
    },
    "spatialResolutionInMeters":"$dcat:spatialResolutionInMeters" ,
    "structure":{
    	"id":"$qb:structure" ,
    	"dimension": {
    		"id":"$qb:component/qb:dimension" ,
    		"label":"$rdfs:label"
    	},
    	"measure": {
    		"id":"$qb:component/qb:measure" ,
    		"label":"$rdfs:label" ,
    		"UoM":"$sdmx-attribute:unitMeasure"
    	}  
    },
    "dcat:distribution": {
    	"id":"$dcat:distribution" ,
    	"license": {
    		"id":"$dct:license" ,
    		"label":"$rdfs:label|skos:prefLabel"
    	},
    	"mediaType": {
    		"id":"$dcat:mediaType" ,
    		"label":"$rdfs:label|skos:prefLabel"
    	},
    	"byteSize":"$dcat:byteSize" ,
    	"accessDatabase": {
    		"id":"$cybele:accessDatabase" ,
    		"label":"$rdfs:label" ,
    		"connectionString":"$cybele:connectionString" ,
    		"accessTable":{
    			"id":"$cybele:accessTable",
    			"label":"$cybele:tableName"
    		}
    	}
    }
  },
  "$where": [
    "?s a dcat:Dataset"
  ],
  "$filter": "STRSTARTS (str(?s), str(cybeleBase:))",
  "$prefixes": {
    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "dbo": "http://dbpedia.org/ontology/",
    "dcat": "http://www.w3.org/ns/dcat#",
    "dct": "http://purl.org/dc/terms/",
    "qb": "http://purl.org/linked-data/cube#",
		"sdmx-attribute": "http://purl.org/linked-data/sdmx/2009/attribute#",
		"cybele":	"http://w3id.org/cybele/model#",
		"locn":	"http://www.w3.org/ns/locn#",
		"cybeleBase": "https://w3id.org/cybele/",
		"skos": "http://www.w3.org/2004/02/skos/core#"
  },
  "$orderby": "?id",
  "$lang": "en",
  "grlc": {
    "summary": "Retrieve all information about CYBELE datasets, including only those with structure and database distribution",
    "endpoint": "https://www.foodie-cloud.org/sparql",
    "tags": [ "test" ],
    "method": "GET",
    "pagination": 100
  }
}
